# ============================================================
# BulletTrade 回测环境配置示例
# 复制此文件为 .env 即可用于回测
# ============================================================

# ============ 数据源配置（必需） ============

# 数据源类型 (jqdata, tushare, qmt)
DEFAULT_DATA_PROVIDER=jqdata

# JQData（聚宽）配置
# 注册地址: https://www.joinquant.com/
JQDATA_USERNAME=138xxxxxxxx    # 手机号
JQDATA_PASSWORD=your_password   # 密码
JQDATA_SERVER=  # 可选：自建接入点
JQDATA_PORT=                   # 可选：端口
JQDATA_CACHE_DIR=~/.jqdatasdk/cache
# 兼容旧变量：JQDATA_USER/JQDATA_PWD

# Tushare 配置（可选，需要token）
# 注册地址: https://tushare.pro/
# TUSHARE_TOKEN=your_token_here
# TUSHARE_CACHE_DIR=~/.tushare/cache

# MiniQMT (可选，本地 QMT 行情)
#QMT_DATA_PATH=C:\国金QMT交易端模拟\userdata_mini
#MINIQMT_AUTO_DOWNLOAD=true

# ============ 回测默认参数 ============

# 默认初始资金
DEFAULT_INITIAL_CASH=100000

# 默认回测频率 (daily, minute)
DEFAULT_FREQUENCY=daily

# 默认基准
DEFAULT_BENCHMARK=000300.XSHG

# ============ 系统配置 ============

# 回测结果输出目录
BACKTEST_OUTPUT_DIR=./backtest_results

# 日志配置
LOG_DIR=./logs
LOG_LEVEL=INFO

# 调试模式（开发时开启）
DEBUG=false

# ============ 通知配置 ============
# 企业微信机器人 KEY，配置后 send_msg 会推送群机器人
MESSAGE_KEY=

# ============ 缓存配置 ============

# 缓存有效期（天）
CACHE_TTL_DAYS=30

# 启用缓存（提升性能）
ENABLE_CACHE=true

# ============ 性能优化 ============

# 使用 uvloop（仅 macOS/Linux，提升性能）
USE_UVLOOP=true

# 并发获取数据
CONCURRENT_DATA_FETCH=true

# 最大工作线程数（为空则自动检测）
# MAX_WORKERS=4

# Portfolio 实时刷新（毫秒），默认 200；若需更高频访问可调小
PORTFOLIO_REFRESH_THROTTLE_MS=200

# ============ 回测建议配置 ============
# 
# 日线回测：
#   DEFAULT_FREQUENCY=daily
#   CACHE_TTL_DAYS=30
#   USE_UVLOOP=true
#
# 分钟回测：
#   DEFAULT_FREQUENCY=minute
#   CACHE_TTL_DAYS=7  # 分钟数据缓存时间短一些
#   USE_UVLOOP=true   # 异步模式性能更好
#
# 参数优化：
#   MAX_WORKERS=8     # 并行运行多个回测
#   ENABLE_CACHE=true # 必须开启缓存

# 远程 QMT server
QMT_SERVER_HOST=127.0.0.1
QMT_SERVER_PORT=58620
QMT_SERVER_TOKEN=please_change_me
